# Agenda+

### 一、表单字段验证（正则表达式）

用户注册时验证邮箱和电话的格式，格式不对则反馈相应报错信息，并且注册失败

1、邮箱格式可以为：

* xxxxx@xxxx.xxx
* xxxxx@xxxx.xxx.xx.xx
* 中间必须含有@
* @前面最多有一个.@后面可以有一个或以上.但不连续

2、电话格式可以为：

* 138001380000（任意数字）
* 12356498（任意数字）（各地电话位数不同，故为任意位的数字）
* +86894356（前面有+号）
* 020-5941353
* 089-592-594339（含有若干-但不连续，也不能在开头）

### 二、更好的UI

1、查询用户或会议时，表格每一列字符串宽度将根据最宽的字符串来决定（设置为max+3）

缺点：每次输出都要遍历会议一次来得到最大宽度，效率低

2、创建会议和按时间查询会议时，若时间不合法，则会提供重输机会

3、会议名字允许包含空格，但用户名、密码、邮箱不得包含空格

4、创建会议输入参与者个数时，对异常（非数字或非正整数）进行了处理并报错，提供重输机会

### 三、异常处理以及错误信息返回

添加具体错误信息返回

### 四、添加Ctrl+C终止信号

程序运行时按Ctrl+C，会先保存好文件再退出，但有个bug还没解决，就是退出时还会输出一堆菜单

在AgendaUI.hpp里面添加了public的析构函数（会保存文件），signalhandler调用UI的析构函数



### Debug Logs

* AgendaService::meetingQuery() 通过时间查找会议，判断日期时增加了s_date > e_date
* AgendaService::meetingQuery() 通过时间查找会议，增加用时间点查找